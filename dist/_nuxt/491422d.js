(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{544:function(t,e,o){var content=o(684);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(14).default)("4eaa2358",content,!0,{sourceMap:!1})},683:function(t,e,o){"use strict";var n=o(544);o.n(n).a},684:function(t,e,o){var n=o(13),d=o(141),r=o(142),l=o(143),c=o(144),m=o(145);e=n(!1);var h=d(r),f=d(l),v=d(c),x=d(m);e.push([t.i,'@font-face{font-family:"gotham-black";src:url('+h+')}@font-face{font-family:"gotham-bold";src:url('+f+')}@font-face{font-family:"gotham-light";src:url('+v+')}@font-face{font-family:"gotham-thin";src:url('+x+')}.custom-h5[data-v-6c324c74]{font-size:"20px"!important}.custom-h5[data-v-6c324c74],.custom-h6[data-v-6c324c74]{font-weight:500;font-family:"gotham-black"!important;line-height:normal}.custom-h6[data-v-6c324c74]{font-size:"16px"}.custom-h4[data-v-6c324c74]{font-size:"24px"!important}.custom-h3[data-v-6c324c74],.custom-h4[data-v-6c324c74]{font-weight:500!important;font-family:"gotham-black"!important;line-height:normal!important}.custom-h3[data-v-6c324c74]{font-size:"28px"!important}.custom-h2[data-v-6c324c74]{font-size:"32px"!important;font-weight:500!important;font-family:"gotham-black"!important;line-height:normal!important}.custom-light-h5[data-v-6c324c74]{font-size:"20px"!important}.custom-light-h5[data-v-6c324c74],.custom-light-h6[data-v-6c324c74]{font-weight:500;font-family:"gotham-light"!important;line-height:normal}.custom-light-h6[data-v-6c324c74]{font-size:"16px"}.custom-light-h4[data-v-6c324c74]{font-size:"24px"!important}.custom-light-h3[data-v-6c324c74],.custom-light-h4[data-v-6c324c74]{font-weight:500!important;font-family:"gotham-light"!important;line-height:normal!important}.custom-light-h3[data-v-6c324c74]{font-size:"28px"!important}.custom-light-h2[data-v-6c324c74]{font-size:"32px"!important;font-weight:500!important;font-family:"gotham-light"!important;line-height:normal!important}.sideNav-title[data-v-6c324c74]{color:#3cb371}.custom-loader[data-v-6c324c74]{-webkit-animation:loader-data-v-6c324c74 1s infinite;animation:loader-data-v-6c324c74 1s infinite;display:flex}@-webkit-keyframes loader-data-v-6c324c74{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@keyframes loader-data-v-6c324c74{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.list-color[data-v-6c324c74]{color:#22a64e!important}.post-caption[data-v-6c324c74]{font-family:"gotham-light";font-weight:100}.custom-style[data-v-6c324c74]{font-family:"gotham-black"!important}',""]),t.exports=e},723:function(t,e,o){"use strict";o.r(e);o(76);var n={layout:"admin",data:function(){return{dialog:!0,loading:!1,date:(new Date).toISOString().substr(0,10),menu:!1,headers:[{text:"First Name",align:"start",sortable:!1,value:"firstName",class:["text-button","grey--text text--darken-3"]},{text:"Last Name",value:"lastName",class:["text-button","grey--text text--darken-3"]},{text:"Email",value:"email",class:["text-button","grey--text text--darken-3"]},{text:"Phone",value:"phoneNumber",class:["text-button","grey--text text--darken-3"]},{text:"D.O.B",value:"dob",class:["text-button","grey--text text--darken-3"]},{text:"Role",value:"roleName",class:["text-button","grey--text text--darken-3"]},{text:"State",value:"statedId",class:["text-button","grey--text text--darken-3"]},{text:"LGA",value:"lgaid",class:["text-button","grey--text text--darken-3"]},{text:"City",value:"city",class:["text-button","grey--text text--darken-3"]},{text:"Account Type",value:"accountType",class:["text-button","grey--text text--darken-3"]},{text:"Created On",value:"createdOn",class:["text-button","grey--text text--darken-3"]},{text:"Actions",value:"actions",sortable:!1,class:["text-button","grey--text text--darken-3"]}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"Password must not be less than 6 characters"}],show1:!1,valid:!0,editedIndex:-1,editedItem:{userId:"",firstName:"",lastName:"",email:"",phoneNumber:"",dob:(new Date).toISOString().substr(0,10),roleId:"",stateId:"",lgaid:"",city:"",password:"",accountType:""},defaultItem:{userId:"",firstName:"",lastName:"",email:"",phoneNumber:"",dob:(new Date).toISOString().substr(0,10),roleId:"",stateId:"",lgaid:"",city:"",password:"",accountType:""}}},watch:{dialog:function(t){t||this.close()},"editedItem.stateId":function(t,e){this.getLga(t)}},computed:{users:function(){return this.$store.getters["users/allUsers"]},states:function(){return this.$store.getters.allStates},lgas:function(){return this.$store.getters.allLgas},accountTypes:function(){return this.$store.getters.allAccountTypes},roles:function(){return this.$store.getters["roles/allRoles"]},formTitle:function(){return-1===this.editedIndex?"Add User":"Edit User"},btnText:function(){return-1===this.editedIndex?"Submit":"Update"}},methods:{editItem:function(t){this.editedIndex=this.users.indexOf(t),this.editedItem=Object.assign({},t),this.$modal.show("users-modal")},addUser:function(){var t=this;this.loading=!0;var data={firstName:this.editedItem.firstName,lastName:this.editedItem.lastName,email:this.editedItem.lastName,phoneNumber:this.editedItem.phoneNumber,dob:this.editedItem.dob,roleId:this.editedItem.roleId,statedId:this.editedItem.stateId,lgaid:this.editedItem.lgaid,city:this.editedItem.city,accountType:this.editedItem.accountType,password:this.editedItem.password,createdOn:new Date,createdBy:this.$auth.user.userId};this.$store.dispatch("users/addUser",data).then((function(e){t.loading=!1,t.refreshTable(),t.close()}))},updateUser:function(){var t=this;this.loading=!0;var data={userId:this.users[this.editedIndex].userId,firstName:this.editedItem.firstName,lastName:this.editedItem.lastName,email:this.editedItem.lastName,phoneNumber:this.editedItem.phoneNumber,dob:this.editedItem.dob,roleId:this.editedItem.roleId,statedId:this.editedItem.stateId,lgaid:this.editedItem.lgaid,password:this.users[this.editedIndex].password,city:this.editedItem.city,accountType:this.editedItem.accountType,modifiedOn:this.users[this.editedIndex].modifiedOn,isDeprecated:this.users[this.editedIndex].isDeprecated};this.$store.dispatch("users/updateUser",data).then((function(e){t.loading=!1,t.refreshTable(),t.close()}))},deleteItem:function(t){confirm("Are you sure you want to delete this user?")&&this.deleteUser(t)},deleteUser:function(t){var e=this,o=this.users.indexOf(t);this.$store.dispatch("users/deleteUser",this.users[o].userId).then((function(t){e.refreshTable()}))},getLga:function(t){""!==t&&void 0!==t&&this.$store.dispatch("getLga",t)},refreshTable:function(){this.$store.dispatch("users/getAllUsers")},close:function(){var t=this;this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1,t.loading=!1})),this.$modal.hide("users-modal")},save:function(){this.editedIndex>-1?this.updateUser():this.addUser()}}},d=(o(683),o(57)),r=o(71),l=o.n(r),c=o(472),m=o(214),h=o(93),f=o(486),v=o(493),x=o(708),I=o(704),y=o(215),k=o(114),w=o(223),_=o(487),N=o(50),T=o(484),$=o(81),C=o(56),O=o(146),component=Object(d.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-card",{staticClass:"mx-10 mt-14",attrs:{color:"#22A64E"}},[o("modal",{attrs:{name:"users-modal","min-width":700,"max-width":700,adaptive:!0,scrollable:!0,height:"auto",transition:"fade-transition",clickToClose:!1}},[o("v-card",[o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{color:"red",text:""},on:{click:t.close}},[o("v-icon",[t._v("mdi-window-close")])],1)],1),t._v(" "),o("div",{staticClass:"text-center"},[o("span",{staticClass:"headline list-color custom-style"},[t._v(t._s(t.formTitle))])]),t._v(" "),o("v-card-text",[o("v-container",[o("v-row",{staticClass:"px-8"},[o("v-col",{staticClass:"py-0 px-0",attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{label:"First Name"},model:{value:t.editedItem.firstName,callback:function(e){t.$set(t.editedItem,"firstName",e)},expression:"editedItem.firstName"}}),t._v(" "),o("v-text-field",{attrs:{label:"Email"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}}),t._v(" "),o("v-select",{attrs:{items:t.states,"item-text":"stateName","item-value":"stateId",label:"State",chips:"",dense:""},model:{value:t.editedItem.stateId,callback:function(e){t.$set(t.editedItem,"stateId",e)},expression:"editedItem.stateId"}}),t._v(" "),o("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.editedItem.dob,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.editedItem,"dob",e)},"update:return-value":function(e){return t.$set(t.editedItem,"dob",e)}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,d=e.attrs;return[o("v-text-field",t._g(t._b({attrs:{label:"Date Of Birth",readonly:""},model:{value:t.editedItem.dob,callback:function(e){t.$set(t.editedItem,"dob",e)},expression:"editedItem.dob"}},"v-text-field",d,!1),n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),o("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.editedItem.dob,callback:function(e){t.$set(t.editedItem,"dob",e)},expression:"editedItem.dob"}},[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),t._v(" "),o("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.editedItem.dob)}}},[t._v("OK")])],1)],1),t._v(" "),o("v-select",{attrs:{items:t.lgas,"item-text":"lganame","item-value":"lgaid",label:"LGA",chips:"",dense:""},model:{value:t.editedItem.lgaid,callback:function(e){t.$set(t.editedItem,"lgaid",e)},expression:"editedItem.lgaid"}})],1),t._v(" "),o("v-col",{staticClass:"py-0 pl-5",attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{label:"Last Name"},model:{value:t.editedItem.lastName,callback:function(e){t.$set(t.editedItem,"lastName",e)},expression:"editedItem.lastName"}}),t._v(" "),o("v-text-field",{attrs:{label:"Phone"},model:{value:t.editedItem.phoneNumber,callback:function(e){t.$set(t.editedItem,"phoneNumber",e)},expression:"editedItem.phoneNumber"}}),t._v(" "),o("v-select",{attrs:{items:t.accountTypes,"item-text":"accountypeName","item-value":"acountTypeId",label:"Account Type",chips:"",dense:""},model:{value:t.editedItem.accountType,callback:function(e){t.$set(t.editedItem,"accountType",e)},expression:"editedItem.accountType"}}),t._v(" "),o("v-text-field",{attrs:{label:"City"},model:{value:t.editedItem.city,callback:function(e){t.$set(t.editedItem,"city",e)},expression:"editedItem.city"}}),t._v(" "),o("v-select",{attrs:{items:t.roles,"item-text":"name","item-value":"roleId",label:"Role",chips:"",dense:""},model:{value:t.editedItem.roleId,callback:function(e){t.$set(t.editedItem,"roleId",e)},expression:"editedItem.roleId"}})],1),t._v(" "),o("v-btn",{staticClass:"white--text rounded-0 mt-6 mb-10 px-8 py-5 text-capitalize",attrs:{block:"",depressed:"",large:"","prepend-inner-icon":"mdi-map-marker",clearable:"",color:"#009933",loading:t.loading,disabled:t.loading},domProps:{textContent:t._s(t.btnText)},on:{click:t.save},scopedSlots:t._u([{key:"loader",fn:function(){return[o("span",{staticClass:"custom-loader"},[o("v-icon",{attrs:{light:""}},[t._v("mdi-cached")])],1)]},proxy:!0}])},[o("v-icon",{attrs:{right:""}},[t._v("mdi-send")])],1)],1)],1)],1)],1)],1),t._v(" "),o("v-data-table",{staticClass:"mx-4 py-4",attrs:{headers:t.headers,items:t.users,"sort-by":""},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:"",color:"white"}},[o("v-toolbar-title",{staticClass:"list-color custom-style"},[t._v("All Users")]),t._v(" "),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),o("v-spacer"),t._v(" "),o("v-btn",{staticClass:"rounded-0 post-caption",attrs:{depressed:"",large:"",color:"#22A64E",dark:""},on:{click:function(e){return t.$modal.show("users-modal")}}},[o("v-icon",{attrs:{left:""}},[t._v("mdi-plus-circle-outline")]),t._v(" Add User\r\n                    ")],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var n=e.item;return[o("v-icon",{staticClass:"mr-2 green--text",attrs:{small:""},on:{click:function(e){return t.editItem(n)}}},[t._v("mdi-pencil")]),t._v(" "),o("v-icon",{staticClass:"red--text",attrs:{small:""},on:{click:function(e){return t.deleteItem(n)}}},[t._v("mdi-delete")])]}},{key:"item.createdOn",fn:function(e){var n=e.item;return[o("span",{domProps:{textContent:t._s(t.$moment(n.createdOn).format("DD/MM/YYYY"))}})]}}])})],1)],1)}),[],!1,null,"6c324c74",null);e.default=component.exports;l()(component,{VBtn:c.a,VCard:m.a,VCardActions:h.a,VCardText:h.b,VCol:f.a,VContainer:v.a,VDataTable:x.a,VDatePicker:I.a,VDivider:y.a,VIcon:k.a,VMenu:w.a,VRow:_.a,VSelect:N.a,VSpacer:T.a,VTextField:$.a,VToolbar:C.a,VToolbarTitle:O.a})}}]);