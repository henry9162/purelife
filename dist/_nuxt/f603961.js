(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{532:function(t,e,n){var content=n(652);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(14).default)("27834aac",content,!0,{sourceMap:!1})},651:function(t,e,n){"use strict";var r=n(532);n.n(r).a},652:function(t,e,n){var r=n(13),o=n(141),c=n(142),d=n(143),l=n(144),m=n(145);e=r(!1);var h=o(c),f=o(d),v=o(l),x=o(m);e.push([t.i,'@font-face{font-family:"gotham-black";src:url('+h+')}@font-face{font-family:"gotham-bold";src:url('+f+')}@font-face{font-family:"gotham-light";src:url('+v+')}@font-face{font-family:"gotham-thin";src:url('+x+')}.custom-h5[data-v-bbfe27ac]{font-size:"20px"!important}.custom-h5[data-v-bbfe27ac],.custom-h6[data-v-bbfe27ac]{font-weight:500;font-family:"gotham-black"!important;line-height:normal}.custom-h6[data-v-bbfe27ac]{font-size:"16px"}.custom-h4[data-v-bbfe27ac]{font-size:"24px"!important}.custom-h3[data-v-bbfe27ac],.custom-h4[data-v-bbfe27ac]{font-weight:500!important;font-family:"gotham-black"!important;line-height:normal!important}.custom-h3[data-v-bbfe27ac]{font-size:"28px"!important}.custom-h2[data-v-bbfe27ac]{font-size:"32px"!important;font-weight:500!important;font-family:"gotham-black"!important;line-height:normal!important}.custom-light-h5[data-v-bbfe27ac]{font-size:"20px"!important}.custom-light-h5[data-v-bbfe27ac],.custom-light-h6[data-v-bbfe27ac]{font-weight:500;font-family:"gotham-light"!important;line-height:normal}.custom-light-h6[data-v-bbfe27ac]{font-size:"16px"}.custom-light-h4[data-v-bbfe27ac]{font-size:"24px"!important}.custom-light-h3[data-v-bbfe27ac],.custom-light-h4[data-v-bbfe27ac]{font-weight:500!important;font-family:"gotham-light"!important;line-height:normal!important}.custom-light-h3[data-v-bbfe27ac]{font-size:"28px"!important}.custom-light-h2[data-v-bbfe27ac]{font-size:"32px"!important;font-weight:500!important;font-family:"gotham-light"!important;line-height:normal!important}.sideNav-title[data-v-bbfe27ac]{color:#3cb371}.custom-loader[data-v-bbfe27ac]{-webkit-animation:loader-data-v-bbfe27ac 1s infinite;animation:loader-data-v-bbfe27ac 1s infinite;display:flex}@-webkit-keyframes loader-data-v-bbfe27ac{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@keyframes loader-data-v-bbfe27ac{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.list-color[data-v-bbfe27ac]{color:#22a64e!important}.post-caption[data-v-bbfe27ac]{font-family:"gotham-light"!important;font-weight:100!important}.custom-style[data-v-bbfe27ac]{font-family:"gotham-black"!important}',""]),t.exports=e},712:function(t,e,n){"use strict";n.r(e);n(76);var r={layout:"admin",data:function(){return{dialog:!0,loading:!1,headers:[{text:"Name",align:"start",sortable:!1,value:"pharmacyBranchName",class:["text-button","grey--text text--darken-3"]},{text:"Address",value:"address",class:["text-button","grey--text text--darken-3"]},{text:"State",value:"stateName",class:["text-button","grey--text text--darken-3"]},{text:"LGA",value:"lgaName",class:["text-button","grey--text text--darken-3"]},{text:"Created On",value:"createdOn",class:["text-button","grey--text text--darken-3"]},{text:"Actions",value:"actions",sortable:!1,class:["text-button","grey--text text--darken-3"]}],editedIndex:-1,editedItem:{pharmacyBranchId:"",pharmacyBranchName:"",description:"",stateId:"",stateName:"",lga:"",lgaName:"",createdOn:""},defaultItem:{pharmacyBranchId:"",pharmacyBranchName:"",description:"",stateId:"",stateName:"",lga:"",lgaName:"",createdOn:""}}},watch:{dialog:function(t){t||this.close()},"editedItem.stateId":function(t,e){this.getLga(t)}},computed:{branches:function(){return this.$store.getters["branches/allBranches"]},states:function(){return this.$store.getters.allStates},lgas:function(){return this.$store.getters.allLgas},formTitle:function(){return-1===this.editedIndex?"Add Branch":"Edit Branch"},btnText:function(){return-1===this.editedIndex?"Submit":"Update"}},methods:{editItem:function(t){this.editedIndex=this.branches.indexOf(t),this.editedItem=Object.assign({},t),this.$modal.show("branches-modal")},addBranch:function(){var t=this;this.loading=!0;var data={pharmacyBranchName:this.editedItem.pharmacyBranchName,address:this.editedItem.address,stateId:this.editedItem.stateId,lga:this.editedItem.lga,createdOn:new Date};this.$store.dispatch("branches/addBranch",data).then((function(e){t.loading=!1,t.refreshTable(),t.close()}))},updateBranch:function(){var t=this;this.loading=!0;var data={pharmacyBranchId:this.branches[this.editedIndex].pharmacyBranchId,pharmacyBranchName:this.editedItem.pharmacyBranchName,address:this.editedItem.address,stateId:this.editedItem.stateId,lga:this.editedItem.lga,modifiedOn:new Date,isDeprecated:this.branches[this.editedIndex].isDeprecated};this.$store.dispatch("branches/updateBranch",data).then((function(e){t.loading=!1,t.refreshTable(),t.close()}))},getLga:function(t){""!==t&&this.$store.dispatch("getLga",t)},deleteItem:function(t){confirm("Are you sure you want to delete this branch?")&&this.deleteBranch(t)},deleteBranch:function(t){var e=this,n=this.branches.indexOf(t);this.$store.dispatch("branches/deleteBranch",this.branches[n].pharmacyBranchId).then((function(t){e.refreshTable()}))},refreshTable:function(){this.$store.dispatch("branches/getAllBranches")},close:function(){var t=this;this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1,t.loading=!1})),this.$modal.hide("branches-modal")},save:function(){this.editedIndex>-1?this.updateBranch():this.addBranch()}}},o=(n(651),n(57)),c=n(71),d=n.n(c),l=n(472),m=n(214),h=n(93),f=n(486),v=n(493),x=n(708),y=n(215),I=n(114),k=n(487),B=n(50),w=n(484),_=n(81),C=n(56),N=n(146),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{staticClass:"mx-10 mt-14",attrs:{color:"#22A64E"}},[n("modal",{attrs:{name:"branches-modal","min-width":500,"max-width":700,adaptive:!0,scrollable:!0,height:"auto",transition:"fade-transition",clickToClose:!1}},[n("v-card",[n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"red",text:""},on:{click:t.close}},[n("v-icon",[t._v("mdi-window-close")])],1)],1),t._v(" "),n("div",{staticClass:"text-center"},[n("span",{staticClass:"headline list-color custom-style"},[t._v(t._s(t.formTitle))])]),t._v(" "),n("v-card-text",[n("v-container",[n("v-row",{staticClass:"px-8"},[n("v-col",{staticClass:"py-0 px-0",attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Branch Name"},model:{value:t.editedItem.pharmacyBranchName,callback:function(e){t.$set(t.editedItem,"pharmacyBranchName",e)},expression:"editedItem.pharmacyBranchName"}})],1),t._v(" "),n("v-col",{staticClass:"py-0 px-0",attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Description"},model:{value:t.editedItem.address,callback:function(e){t.$set(t.editedItem,"address",e)},expression:"editedItem.address"}})],1),t._v(" "),n("v-col",{staticClass:"py-0 px-0",attrs:{cols:"12"}},[n("v-select",{attrs:{items:t.states,"item-text":"stateName","item-value":"stateId",label:"State",chips:"",dense:""},model:{value:t.editedItem.stateId,callback:function(e){t.$set(t.editedItem,"stateId",e)},expression:"editedItem.stateId"}})],1),t._v(" "),n("v-col",{staticClass:"py-0 px-0",attrs:{cols:"12"}},[n("v-select",{attrs:{items:t.lgas,"item-text":"lganame","item-value":"lgaid",label:"LGA",chips:"",dense:""},model:{value:t.editedItem.lga,callback:function(e){t.$set(t.editedItem,"lga",e)},expression:"editedItem.lga"}})],1),t._v(" "),n("v-btn",{staticClass:"white--text rounded-0 mt-6 mb-10 px-8 py-5 text-capitalize",attrs:{block:"",depressed:"",large:"","prepend-inner-icon":"mdi-map-marker",clearable:"",color:"#009933",loading:t.loading,disabled:t.loading},domProps:{textContent:t._s(t.btnText)},on:{click:t.save},scopedSlots:t._u([{key:"loader",fn:function(){return[n("span",{staticClass:"custom-loader"},[n("v-icon",{attrs:{light:""}},[t._v("mdi-cached")])],1)]},proxy:!0}])},[n("v-icon",{attrs:{right:""}},[t._v("mdi-send")])],1)],1)],1)],1)],1)],1),t._v(" "),n("v-data-table",{staticClass:"mx-4 py-4",attrs:{headers:t.headers,items:t.branches,"sort-by":"calories"},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",{staticClass:"list-color custom-style"},[t._v("All Branches")]),t._v(" "),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"rounded-0 post-caption",attrs:{depressed:"",large:"",color:"#22A64E",dark:""},on:{click:function(e){return t.$modal.show("branches-modal")}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-plus-circle-outline")]),t._v(" Add Branch\r\n                    ")],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var r=e.item;return[n("v-icon",{staticClass:"mr-2 green--text",attrs:{small:""},on:{click:function(e){return t.editItem(r)}}},[t._v("mdi-pencil")]),t._v(" "),n("v-icon",{staticClass:"red--text",attrs:{small:""},on:{click:function(e){return t.deleteItem(r)}}},[t._v("mdi-delete")])]}},{key:"item.createdOn",fn:function(e){var r=e.item;return[n("span",{domProps:{textContent:t._s(t.$moment(r.createdOn).format("DD/MM/YYYY"))}})]}}])})],1)],1)}),[],!1,null,"bbfe27ac",null);e.default=component.exports;d()(component,{VBtn:l.a,VCard:m.a,VCardActions:h.a,VCardText:h.b,VCol:f.a,VContainer:v.a,VDataTable:x.a,VDivider:y.a,VIcon:I.a,VRow:k.a,VSelect:B.a,VSpacer:w.a,VTextField:_.a,VToolbar:C.a,VToolbarTitle:N.a})}}]);